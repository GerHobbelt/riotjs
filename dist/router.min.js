(function(n){if(!this.top)return;var t=location,e=n.observable({}),i=l(),a="hashchange",o=window;function l(){return t.hash.slice(1)}function r(n){if(n.type)n=l();if(n!=i){e.trigger.apply(null,["H"].concat(n.split("/")));i=n}}var s=n.route=function(n){if(n[0]){t.hash=n;r(n)}else{e.on("H",n)}};s.exec=function(n){n.apply(null,l().split("/"))};if(o.addEventListener){o.addEventListener(a,r,false)}else{o.attachEvent("on"+a,r)}})(riot);